# ü¶û OpenClaw Deployment ‚Äî –õ–∏—á–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ AI-–±–æ—Ç–∞.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–≠–Ω–¥–ø–æ–π–Ω—Ç—ã –∏ –¥–æ—Å—Ç—É–ø—ã](#—ç–Ω–¥–ø–æ–π–Ω—Ç—ã-–∏-–¥–æ—Å—Ç—É–ø—ã)
- [–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ](#–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        –ò–ù–¢–ï–†–ù–ï–¢                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  HETZNER VPS (46.224.221.0)                                     ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ OpenClaw Gateway (systemd)                                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Telegram Bot (@neironassistant_bot)                        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Claude Sonnet 4 (Anthropic API)                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ Tailscale VPN (encrypted)
                              ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  MAC (nano-m4-macbook-pro)                                      ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ OpenClaw Node (LaunchAgent)                                ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ ~/Downloads (–¥–æ—Å—Ç—É–ø –¥–ª—è –æ—á–∏—Å—Ç–∫–∏)                           ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ ~/Desktop (–¥–æ—Å—Ç—É–ø –¥–ª—è –æ—á–∏—Å—Ç–∫–∏)                             ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –±—ç–∫–∞–ø—ã                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. Hetzner VPS
- **IP:** `46.224.221.0`
- **Tailscale IP:** `100.73.176.127`
- **OS:** Ubuntu 24.04 LTS
- **–ü–ª–∞–Ω:** CPX22 (~‚Ç¨5/–º–µ—Å)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `openclaw`

### 2. OpenClaw Gateway
- **–ü–æ—Ä—Ç:** `18789`
- **Bind:** `lan` (0.0.0.0)
- **Auth:** token-based
- **–ú–æ–¥–µ–ª—å:** `anthropic/claude-sonnet-4-20250514`

### 3. Telegram Bot
- **Username:** `@neironassistant_bot`
- **DM Policy:** pairing
- **Approved User:** `685668909`

### 4. Mac Node
- **Name:** `mac-files`
- **Tailscale IP:** `100.91.12.108`
- **Service:** LaunchAgent (`ai.openclaw.node`)
- **Capabilities:** browser, system

### 5. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –±—ç–∫–∞–ø—ã
- **–°–∫—Ä–∏–ø—Ç—ã:** `~/.openclaw/cleanup-scripts/`
- **–ë—ç–∫–∞–ø—ã:** `~/.openclaw/cleanup-backups/`
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞:** cron (24 —á–∞—Å–∞)

---

## üîó –≠–Ω–¥–ø–æ–π–Ω—Ç—ã –∏ –¥–æ—Å—Ç—É–ø—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ê–¥—Ä–µ—Å | –î–æ—Å—Ç—É–ø |
|-----------|-------|--------|
| Gateway WS | `ws://100.73.176.127:18789` | Tailscale only |
| Control UI | `http://100.73.176.127:18789/` | Tailscale only |
| SSH Server | `ssh openclaw@46.224.221.0` | SSH key |
| SSH Tailscale | `ssh openclaw@100.73.176.127` | SSH key |
| Telegram | `@neironassistant_bot` | Pairing code |

---

## üîê –¢–æ–∫–µ–Ω—ã –∏ –∫–ª—é—á–∏

> ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –•—Ä–∞–Ω–∏ —Å–µ–∫—Ä–µ—Ç—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ, –Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏!

| –°–µ–∫—Ä–µ—Ç | –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|--------------|----------|
| Gateway Token | `~/.openclaw/openclaw.json` (—Å–µ—Ä–≤–µ—Ä) | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è WS |
| Anthropic API Key | systemd env (—Å–µ—Ä–≤–µ—Ä) | Claude API |
| Telegram Bot Token | `~/.openclaw/openclaw.json` (—Å–µ—Ä–≤–µ—Ä) | Bot API |
| SSH Key | `~/.ssh/id_ed25519` (Mac) | –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É |

---

## üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ö–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ Telegram (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)

| –ö–æ–º–∞–Ω–¥–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `/restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å gateway |
| `/reset` | –û—á–∏—Å—Ç–∏—Ç—å —Å–µ—Å—Å–∏—é (–ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏) |
| `/new` | –ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ /reset) |
| `/compact` | –°–∂–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç (–µ—Å–ª–∏ —Ç–æ—Ä–º–æ–∑–∏—Ç) |
| `/status` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ |

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- **Watchdog**: –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç 60 —Å–µ–∫
- **Memory limit**: –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –µ—Å–ª–∏ –ø–∞–º—è—Ç—å > 1GB
- **Context pruning**: –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö tool results

### –ß–µ—Ä–µ–∑ SSH (–µ—Å–ª–∏ Telegram –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Gateway
ssh openclaw@100.73.176.127 "systemctl --user restart openclaw-gateway"

# –û—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–∏ + –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
ssh openclaw@100.73.176.127 "rm -f ~/.openclaw/agents/main/sessions/sessions.json && systemctl --user restart openclaw-gateway"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
ssh openclaw@100.73.176.127 "export PATH=/home/openclaw/.npm-global/bin:\$PATH && openclaw status"
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Mac Node

```bash
openclaw node restart
```

### –ü–æ–ª–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

–°–º. —Ñ–∞–π–ª: [RECOVERY.md](./RECOVERY.md)

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä—ã:
- ‚úÖ UFW firewall (—Ç–æ–ª—å–∫–æ SSH –æ—Ç–∫—Ä—ã—Ç)
- ‚úÖ Fail2ban (–∑–∞—â–∏—Ç–∞ –æ—Ç brute-force)
- ‚úÖ SSH key-only (–ø–∞—Ä–æ–ª–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã)
- ‚úÖ Non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- ‚úÖ Tailscale VPN (—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ Gateway token auth
- ‚úÖ Telegram pairing (–∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –±—ç–∫–∞–ø—ã
- ‚úÖ Allowlist –∫–æ–º–∞–Ω–¥ –Ω–∞ node

### –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏:
- –ö–∞–∂–¥–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –ë—ç–∫–∞–ø —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–µ—Å—Å–∏–µ–π –æ—á–∏—Å—Ç–∫–∏
- –û—Ç–∫–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –ë—ç–∫–∞–ø—ã –∞–≤—Ç–æ—É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ 24 —á–∞—Å–∞

---

## üìÅ –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- [RECOVERY.md](./RECOVERY.md) ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é
- [server-config.md](./server-config.md) ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
- [mac-config.md](./mac-config.md) ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Mac
- [cleanup-scripts.md](./cleanup-scripts.md) ‚Äî –°–∫—Ä–∏–ø—Ç—ã –æ—á–∏—Å—Ç–∫–∏

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2026-02-05*
